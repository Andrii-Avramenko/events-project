{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-62ead09b5d858c84.js","src/countries.json","node_modules/@parcel/runtime-js/lib/runtime-f74feeb1163d7c6b.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.dfa397b9.js\\\",\\\"cQWKZ\\\":\\\"noResults.56f8e135.svg\\\"}\"));","[\n  {\"countryCode\": \"AD\", \"name\": \"Andorra\"},\n  {\"countryCode\": \"AI\", \"name\": \"Anguilla\"},\n  {\"countryCode\": \"AR\", \"name\": \"Argentina\"},\n  {\"countryCode\": \"AU\", \"name\": \"Australia\"},\n  {\"countryCode\": \"AT\", \"name\": \"Austria\"},\n  {\"countryCode\": \"AZ\", \"name\": \"Azerbaijan\"},\n  {\"countryCode\": \"BS\", \"name\": \"Bahamas\"},\n  {\"countryCode\": \"BH\", \"name\": \"Bahrain\"},\n  {\"countryCode\": \"BB\", \"name\": \"Barbados\"},\n  {\"countryCode\": \"BE\", \"name\": \"Belgium\"},\n  {\"countryCode\": \"BM\", \"name\": \"Bermuda\"},\n  {\"countryCode\": \"BR\", \"name\": \"Brazil\"},\n  {\"countryCode\": \"BG\", \"name\": \"Bulgaria\"},\n  {\"countryCode\": \"CA\", \"name\": \"Canada\"},\n  {\"countryCode\": \"CL\", \"name\": \"Chile\"},\n  {\"countryCode\": \"CN\", \"name\": \"China\"},\n  {\"countryCode\": \"CO\", \"name\": \"Colombia\"},\n  {\"countryCode\": \"CR\", \"name\": \"Costa Rica\"},\n  {\"countryCode\": \"HR\", \"name\": \"Croatia\"},\n  {\"countryCode\": \"CY\", \"name\": \"Cyprus\"},\n  {\"countryCode\": \"CZ\", \"name\": \"Czech Republic\"},\n  {\"countryCode\": \"DK\", \"name\": \"Denmark\"},\n  {\"countryCode\": \"DO\", \"name\": \"Dominican Republic\"},\n  {\"countryCode\": \"EC\", \"name\": \"Ecuador\"},\n  {\"countryCode\": \"EE\", \"name\": \"Estonia\"},\n  {\"countryCode\": \"FO\", \"name\": \"Faroe Islands\"},\n  {\"countryCode\": \"FI\", \"name\": \"Finland\"},\n  {\"countryCode\": \"FR\", \"name\": \"France\"},\n  {\"countryCode\": \"GE\", \"name\": \"Georgia\"},\n  {\"countryCode\": \"DE\", \"name\": \"Germany\"},\n  {\"countryCode\": \"GH\", \"name\": \"Ghana\"},\n  {\"countryCode\": \"GI\", \"name\": \"Gibraltar\"},\n  {\"countryCode\": \"GB\", \"name\": \"Great Britain\"},\n  {\"countryCode\": \"GR\", \"name\": \"Greece\"},\n  {\"countryCode\": \"HK\", \"name\": \"Hong Kong\"},\n  {\"countryCode\": \"HU\", \"name\": \"Hungary\"},\n  {\"countryCode\": \"IS\", \"name\": \"Iceland\"},\n  {\"countryCode\": \"IN\", \"name\": \"India\"},\n  {\"countryCode\": \"IE\", \"name\": \"Ireland\"},\n  {\"countryCode\": \"IL\", \"name\": \"Israel\"},\n  {\"countryCode\": \"IT\", \"name\": \"Italy\"},\n  {\"countryCode\": \"JM\", \"name\": \"Jamaica\"},\n  {\"countryCode\": \"JP\", \"name\": \"Japan\"},\n  {\"countryCode\": \"KR\", \"name\": \"Korea, Republic of\"},\n  {\"countryCode\": \"LV\", \"name\": \"Latvia\"},\n  {\"countryCode\": \"LB\", \"name\": \"Lebanon\"},\n  {\"countryCode\": \"LT\", \"name\": \"Lithuania\"},\n  {\"countryCode\": \"LU\", \"name\": \"Luxembourg\"},\n  {\"countryCode\": \"MY\", \"name\": \"Malaysia\"},\n  {\"countryCode\": \"MT\", \"name\": \"Malta\"},\n  {\"countryCode\": \"MX\", \"name\": \"Mexico\"},\n  {\"countryCode\": \"MC\", \"name\": \"Monaco\"},\n  {\"countryCode\": \"ME\", \"name\": \"Montenegro\"},\n  {\"countryCode\": \"MA\", \"name\": \"Morocco\"},\n  {\"countryCode\": \"NL\", \"name\": \"Netherlands\"},\n  {\"countryCode\": \"AN\", \"name\": \"Netherlands Antilles\"},\n  {\"countryCode\": \"NZ\", \"name\": \"New Zealand\"},\n  {\"countryCode\": \"ND\", \"name\": \"Northern Ireland\"},\n  {\"countryCode\": \"NO\", \"name\": \"Norway\"},\n  {\"countryCode\": \"PE\", \"name\": \"Peru\"},\n  {\"countryCode\": \"PL\", \"name\": \"Poland\"},\n  {\"countryCode\": \"PT\", \"name\": \"Portugal\"},\n  {\"countryCode\": \"RO\", \"name\": \"Romania\"},\n  {\"countryCode\": \"RU\", \"name\": \"Russian Federation\"},\n  {\"countryCode\": \"LC\", \"name\": \"Saint Lucia\"},\n  {\"countryCode\": \"SA\", \"name\": \"Saudi Arabia\"},\n  {\"countryCode\": \"RS\", \"name\": \"Serbia\"},\n  {\"countryCode\": \"SG\", \"name\": \"Singapore\"},\n  {\"countryCode\": \"SK\", \"name\": \"Slovakia\"},\n  {\"countryCode\": \"SI\", \"name\": \"Slovenia\"},\n  {\"countryCode\": \"ZA\", \"name\": \"South Africa\"},\n  {\"countryCode\": \"ES\", \"name\": \"Spain\"},\n  {\"countryCode\": \"SE\", \"name\": \"Sweden\"},\n  {\"countryCode\": \"CH\", \"name\": \"Switzerland\"},\n  {\"countryCode\": \"TW\", \"name\": \"Taiwan\"},\n  {\"countryCode\": \"TH\", \"name\": \"Thailand\"},\n  {\"countryCode\": \"TT\", \"name\": \"Trinidad and Tobago\"},\n  {\"countryCode\": \"TR\", \"name\": \"Turkey\"},\n  {\"countryCode\": \"UA\", \"name\": \"Ukraine\"},\n  {\"countryCode\": \"AE\", \"name\": \"United Arab Emirates\"},\n  {\"countryCode\": \"US\", \"name\": \"United States Of America\"},\n  {\"countryCode\": \"UY\", \"name\": \"Uruguay\"},\n  {\"countryCode\": \"VE\", \"name\": \"Venezuela\"}\n]","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cQWKZ\")).toString();","// JSON з країнами\nimport countries from './countries.json';\n\n// svg картинка\nimport noResultsImg from './images/noResults.svg'\n\n// Змінні\nconst countriesInput = document.querySelector('.input-countries');\nconst countriesDropdown = document.querySelector('.dropdown-countries');\nconst countriesBlock = document.querySelector('.countries-block');\nconst countriesSet = document.querySelector('.countries-set');\n\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2/events.json';\nconst API_KEY = '9RqLQGT6sSDdxR64riYBmSDsAhCzybzg';\n\nconst mainSection = document.querySelector('.main')\nconst eventsContainer = document.querySelector('.event-container');\n\n// Вибір країни\nfunction handleCountrySelect(e) {\n  countriesInput.value = e.target.dataset.name;\n\n  const url = new URL(window.location.href);\n  url.searchParams.set('countryCode', e.target.dataset.countrycode);\n  window.location.replace(url.toString());\n\n  countriesSet.classList.remove('is-open');\n}\n\nfunction toggleCountriesBlock(toggle) {\n  if (toggle) {\n    countriesSet.classList.toggle('is-open');\n  } else {\n    countriesSet.classList.add('is-open');\n  }\n  if (!countriesSet.classList.contains('is-open')) return;\n\n  countriesBlock.innerHTML = '';\n  userInput = countriesInput.value;\n\n  countries.forEach(country => {\n    if (!country.name.toLowerCase().includes(userInput.toLowerCase())) {\n      return;\n    }\n    const countryItem = document.createElement('div');\n\n    countryItem.textContent = country.name;\n    countryItem.setAttribute('data-name', country.name);\n    countryItem.setAttribute('data-countrycode', country.countryCode);\n    countryItem.classList.add('country-item');\n\n    countriesBlock.appendChild(countryItem);\n  });\n\n  if (!countriesBlock.hasAttribute('listener')) {\n    countriesBlock.setAttribute('listener', '');\n    countriesBlock.addEventListener('click', e => {\n      handleCountrySelect(e);\n    });\n  }\n}\n\ncountriesInput.addEventListener('input', () => toggleCountriesBlock(false));\ncountriesDropdown.addEventListener('click', () => toggleCountriesBlock(true));\n\n// Обробник помилок з API\nfunction noResultsHandler() {\n  mainSection.classList.add('no-results');\n\n  const image = document.createElement('img')\n  image.setAttribute('src', noResultsImg)\n  image.setAttribute('width', \"200\")\n\n  const message = document.createElement('p');\n  message.textContent =\n    'Oops! We couldn’t find anything. Try a different search ';\n  \n  mainSection.querySelector('.container').append(image)\n  mainSection.querySelector('.container').append(message)\n}\n// Запит на API\nasync function getEvents() {\n  const params = new URLSearchParams(window.location.search);\n  try {\n    const response = await fetch(\n      `${BASE_URL}?apikey=${API_KEY}&size=20&${params}`\n    );\n    if (!response.ok) {\n      throw new Error(`HTTP error ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// Рендер результату пошуку\nfunction renderEvents(events) {\n  const markup = events\n    .map(event => {\n      return `<li class=\"event-item\" data-id=\"${event.id}\"><img src=\"${event.images[3].url}\" class=\"event-image\"/>\n                <p class=\"event-title\">${event.name}</p><p class=\"event-date\">${event.dates.start.localDate}</p><p class=\"event-location\">${event._embedded.venues[0].name}</p></li>`;\n    })\n    .join('');\n  eventsContainer.innerHTML = markup;\n}\n\n// Запуск веб-сайту\nasync function startApp() {\n  const events = await getEvents();\n  if (!events._embedded) {\n    noResultsHandler();\n    return;\n  }\n  renderEvents(events._embedded.events);\n}\n\nstartApp();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$57eaefd9067a4abb$exports","$2583275b93475959$exports","URL","resolve","import","meta","url","toString","$1f0dc3b9307be026$var$countriesInput","document","querySelector","$1f0dc3b9307be026$var$countriesDropdown","$1f0dc3b9307be026$var$countriesBlock","$1f0dc3b9307be026$var$countriesSet","$1f0dc3b9307be026$var$mainSection","$1f0dc3b9307be026$var$eventsContainer","$1f0dc3b9307be026$var$toggleCountriesBlock","toggle","classList","add","contains","innerHTML","userInput","value","$parcel$interopDefault","forEach","country","name","toLowerCase","includes","countryItem","createElement","textContent","setAttribute","countryCode","appendChild","hasAttribute","addEventListener","e","target","dataset","window","location","href","searchParams","set","countrycode","replace","remove","$1f0dc3b9307be026$var$handleCountrySelect","async","events","params","URLSearchParams","search","response","fetch","ok","status","json","error","console","$1f0dc3b9307be026$var$getEvents","_embedded","markup","map","event","images","dates","start","localDate","venues","join","$1f0dc3b9307be026$var$renderEvents","image","message","append","$1f0dc3b9307be026$var$noResultsHandler","$1f0dc3b9307be026$var$startApp"],"version":3,"file":"index.dfa397b9.js.map"}